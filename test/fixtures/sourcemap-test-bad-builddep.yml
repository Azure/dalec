# syntax=ghcr.io/azure/dalec/frontend:latest

name: sourcemap-test
description: Test spec with intentionally bad build dependency to verify source maps
website: https://example.com
version: 1.0.0
revision: 1
vendor: Test
packager: Test Packager
license: MIT

x-deps: &deps
  dependencies:
    build:
      gcc: {}
      git:
        version:
          - "> 1.0.0"
      this-package-does-not-exist-and-should-fail-azlinux3:
      make:


# This spec is designed to fail with a bad build dependency
# to test that source maps correctly point to line 18 below
targets:
  azlinux3:
    <<: *deps

  noble:
    <<: *deps

sources:
  hello:
    inline:
      file:
        contents: |
          #!/bin/bash
          echo "Hello World"

build:
  steps:
    - command: echo "This build will fail during dependency installation"

artifacts:
  binaries:
    hello: {}