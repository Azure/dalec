# syntax=ghcr.io/azure/dalec/frontend:latest

name: sourcemap-test-buildstep
description: Test spec with intentionally bad build step to verify source maps
website: https://example.com
version: 1.0.0
revision: 1
vendor: Test
packager: Test Packager
license: MIT

x-foo: &foo
  contents: "bar"

sources:
  # url:
  #   http:
  #     url: https://example.com/somefile.tar.gz
  #     digest: not a real digest
  patch:
    inline:
      file: *foo
  hello:
    generate:
      # - cargohome: {}
      # - pip: {}
      - gomod: {}
    inline:
      dir:
        files:
          hello:
            contents: |
              #!/bin/bash
              echo "Hello World"

patches:
  hello:
    - source: patch

artifacts:
  binaries:
    hello: {}